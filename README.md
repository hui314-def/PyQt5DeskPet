# 关于桌面小宠物

**开发者**：来自广州大学的2024级学生  
**开发时间**：从2025年8月初到今日  
**开发语言**：Python 3.13
**GitHub项目地址**：https://github.com/hui314-def/PyQt5DeskPet/tree/main
---

## 🚀 打开方法

- 使用 Python 环境运行：找到 `桌宠.py` 文件运行即可  
- 使用编译好的程序：利用pyinstaller将 `桌宠.py` 打包成exe文件后直接打开 `桌宠.exe` 文件即可

---

## 📦 需要安装的第三方库

### 必须安装的基础库：
- `PyQt5`

### 聊天功能额外库：
- `edge_tts`
- `emoji`
- `requests`

### 显示电脑资源信息所需库：
- `psutil`
- `GPUtil`

---

## 📥 安装方法

### 推荐直接运行以下命令自动安装所有依赖项
```python
pip install -r requirements.txt
```
### 或者打开 cmd，输入以下命令指定库安装：
```python
pip install <库名>
```
### 例如：
```python
pip install PyQt5
```
>💡 如需使用聊天功能，请自行下载安装[Ollama](https://ollama.com)及其大模型,
并在桌宠聊天框的设置选项中填入你安装的大模型（建议使用轻量级非推理大模型，否则回复较慢，~~如果你不介意或你的电脑配置很好当我没说~~）

## 🎮 功能说明与特性介绍（或者说是更新日志）
- 点击桌宠有语音播放，头部和下半身语音不同，连续点击四次触发隐藏语音

- 可随意拖动，当你把桌宠放在屏幕边沿（上、左、右边）时会躲在一边

- 右键打开菜单栏

- 长时间无互动（10分钟）会有语音提示，20分钟后自动进入睡觉并取消置顶

- 使用电脑超过1小时会有语音提醒

- 睡眠时仅右键菜单可用，同时取消桌面置顶

- 支持拖入文件或文字，自动复制并保存至 uploads 文件夹（文字保存为 .txt 格式）~~这功能感觉没啥用~~

- 添加系统托盘显示，隐藏的桌宠可在托盘中找回

- 接入 Ollama 模型，实现对话功能，使用 edge_tts 语音合成回复（需联网），语音合成的文件放在历史合成文件夹。需要注意的是你的历史对话有上下文机制，如果你关闭了对话窗口则历史对话清除

- 支持个性化设置，可以根据喜好调整部分参数

- sound文件夹里面有着许多音频文件，放在同一个文件夹内的音频是随机播放的，可以根据需求自由替换，其中名为“音乐”的文件夹可以添加喜欢的歌曲。注意：1、格式为MP3，2、文件夹不要重命名

- 当然如果你想更改images里的图片也不是不行，只需要文件夹不要重命名，文件名是png格式，排序方式按照数字顺序就行

- 显示电脑资源利用率，并触发相应语音

- 实现桌宠跟随鼠标移动，移动速度与行走速度一致

- 做了适当的内存优化管理，点击“睡觉”功能时自动释放无用内存

- 用户设置参数自动保存到预设参数文件，方便下次启动时沿用

- 添加了主题选择，可以在个性化设置中选择橙色、蓝色、绿色主题

## 🛠️ 未实现的功能开发设想（希望有更多创意的想法）
- 建立经验值养成系统，以每日的互动获取经验值，根据好感等级解锁不同动作和语音

- 拓展更多交互动作：1、添加喂食动画和相应的声音效果，2、玩具互动：添加虚拟玩具，桌宠可以与玩具互动

- 情绪系统：实现快乐、悲伤、兴奋、疲惫等情绪状态，不同情绪下，桌宠的行为和语音会有所不同，根据交互频率、时间等因素自动改变情绪

- 宠可以模拟键鼠控制主人电脑，并且可以在设置中自定义预设键鼠操作

- 用户自定义添加动画选项，让用户实现动画自由

- 游戏化元素：内置一些简单的小游戏与桌宠互动如猜数字，猜拳等

- 设置添加是否启用重力掉落功能，启用后当桌宠被拖拽到屏幕上方松手则掉落到屏幕底下

- 随时读取电脑屏幕，利用大模型分析主人的电脑使用习惯，提供使用建议或直接键鼠控制电脑，或者做一个游戏助手，随时查阅攻略（~~某种程度上有点困难~~）

- 聊天框添加语音识别功能，或者在设置中自定义语音识别开启条件（~~又要安装语音识别大模型~~）

- 释放其他程序进程的内存空间，优化电脑内存

- 打开聊天模式时按下发送按钮时桌宠切换思考状态的动画，当回复文本接收时根据文本情感内容展示不同的动作或表情 （~~实现起来有点麻烦~~）

- 高级自定义选项：1、允许用户选择不同的外观主题 2、用户可以调整桌宠的各种行为参数 3、为常用功能设置快捷键

- 环境互动：1、根据一天中的不同时间改变行为（早上的问候，晚上的困倦） 2、根据季节或节日更换主题和特殊行为 3、获取天气信息并做出相应反应（比如下雨时打伞等）

---
## 🌟 结语

桌宠正在不断开发和完善中，更多功能敬请期待……
